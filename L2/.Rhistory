hc_add_series(name=Assets[[4]],Returns[[4]], yAxis = 0, showInLegend = TRUE,dashStyle='Dot')%>%
hc_add_series(name=Assets[[5]],Returns[[5]], yAxis = 0, showInLegend = TRUE,dashStyle='Dot')%>%
hc_add_series(name="Equally-weighted Portfolio",Portfolio, yAxis = 0, showInLegend = TRUE)
Annual_Data=data.frame(`Annualized Return`=c(t(Tickers%>%map(Return.calculate)%>%map(Return.annualized)%>%unlist())),
`Annualized Standard Deviation`=c(t(Tickers%>%map(Return.calculate)%>%map(StdDev.annualized)%>%unlist())),check.names = FALSE)
rownames(Annual_Data)=names(Tickers)
Annual_Data
data.frame(`Annualized Return`=Portfolio%>%Return.annualized())
Portfolio
Tickers%>%map(Return.calculate)
do.call(Tickers%>%map(Return.calculate),cbind)
do.call(cbind,Tickers%>%map(Return.calculate))
do.call(cbind,Tickers%>%map(Return.calculate)%>%map(na.fill,-))
do.call(cbind,Tickers%>%map(Return.calculate)%>%map(na.fill,0))
do.call(cbind,Tickers%>%map(Return.calculate)%>%map(na.fill,0))%>%Return.portfolio(weights=0.2)
do.call(cbind,Tickers%>%map(Return.calculate)%>%map(na.fill,0))%>%Return.portfolio(weights=rep(0.2,5))
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
as.data.frame()
summarize(`Annualized Return`=Return.annualized(portfolio.returns))
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
as.data.frame()
summarize(`Annualized Return`=Return.annualized(portfolio.returns))
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
as.data.frame()%>%
summarize(`Annualized Return`=Return.annualized(portfolio.returns))
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
as.data.frame()
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
as.data.frame()
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
as.data.frame()
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)
a=do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)
a=do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%as.data.frame()
View(a)
a=do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%as.data.frame()%>%
summarize(`Annualized Return`=Return.annualized(portfolio.returns))
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(portfolio.returns)
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized()
data.frame(
'Annualized Return' = do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
'Annualized Standard Deviation' = do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())
data.frame(
'Annualized Return' = do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
'Annualized Standard Deviation' = do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())
data.frame(
'Annualized Return' = do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized())
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized()
data.frame(
'Annualized Return' = do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
'Annualized Standard Deviation' = do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%setNames('a','b')
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%setNames(c('a','b'))
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))%>%
rbind(Annual_Data)
Annual_Data%>%
rbind(
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation')))
Annual_Data%>%
rbind(
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))%>%
rownames('A'))
Annual_Data=Annual_Data%>%
rbind(
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))
)
names(Annual_Data)[6]
Annual_Data
rownamesnames(Annual_Data)[6]
rownames(Annual_Data)[6]
rownames(Annual_Data)[6]='Equally-weighted Portfolio'
Annual_Data%>%datatable()%>%formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)
Portfolio=do.call(cbind,Returns)%>%
setNames(Assets)%>%
Return.portfolio(weights = rep(0.2,5),geometric = FALSE)
Tickers=list()
Assets=c('PETR3.SA','VALE3.SA','CCRO3.SA','ITUB3.SA','EMBR3.SA')
for(i in 1:length(Assets)){
Tickers[[i]]=na.locf(Cl(getSymbols(Assets[[i]],from='2002-03-01',auto.assign = FALSE)))
}
names(Tickers)=Assets
Returns=Tickers%>%
map(setNames,'Close')%>%
map(Return.calculate)%>%
map(na.fill,0)%>%
map(~cumprod(1+.))%>%
map(round,3)
highchart(type = "stock") %>%
hc_title(text = "How much would I have if I have invested R$ 1 in each of these Brazilian stocks?") %>%
hc_yAxis_multiples(list(title = list(text = "Cumulative Return (in BRL)"),
opposite = FALSE,
labels = list(format="R$ {value}")))%>%
hc_add_series(name=Assets[[1]],Returns[[1]], yAxis = 0, showInLegend = TRUE)%>%
hc_add_series(name=Assets[[2]],Returns[[2]], yAxis = 0, showInLegend = TRUE)%>%
hc_add_series(name=Assets[[3]],Returns[[3]], yAxis = 0, showInLegend = TRUE)%>%
hc_add_series(name=Assets[[4]],Returns[[4]], yAxis = 0, showInLegend = TRUE)%>%
hc_add_series(name=Assets[[5]],Returns[[5]], yAxis = 0, showInLegend = TRUE)
Annual_Data=data.frame(`Annualized Return`=c(t(Tickers%>%map(Return.calculate)%>%map(Return.annualized)%>%unlist())),
`Annualized Standard Deviation`=c(t(Tickers%>%map(Return.calculate)%>%map(StdDev.annualized)%>%unlist())),check.names = FALSE)
rownames(Annual_Data)=names(Tickers)
Annual_Data%>%datatable()%>%formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)
Portfolio=do.call(cbind,Returns)%>%
setNames(Assets)%>%
Return.portfolio(weights = rep(0.2,5),geometric = FALSE)
Portfolio
highchart(type = "stock") %>%
hc_title(text = "Adding an equally-weighted portfolio") %>%
hc_yAxis_multiples(list(title = list(text = "Cumulative Return (in BRL)"),
opposite = FALSE,
labels = list(format="R$ {value}")))%>%
hc_add_series(name=Assets[[1]],Returns[[1]], yAxis = 0, showInLegend = TRUE,dashStyle='Dot')%>%
hc_add_series(name=Assets[[2]],Returns[[2]], yAxis = 0, showInLegend = TRUE,dashStyle='Dot')%>%
hc_add_series(name=Assets[[3]],Returns[[3]], yAxis = 0, showInLegend = TRUE,dashStyle='Dot')%>%
hc_add_series(name=Assets[[4]],Returns[[4]], yAxis = 0, showInLegend = TRUE,dashStyle='Dot')%>%
hc_add_series(name=Assets[[5]],Returns[[5]], yAxis = 0, showInLegend = TRUE,dashStyle='Dot')%>%
hc_add_series(name="Equally-weighted Portfolio",Portfolio, yAxis = 0, showInLegend = TRUE)
Annual_Data=Annual_Data%>%
rbind(
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))
)
Annual_Data
Portfolio
Return.annualized(Portfolio)
Portfolio
Annual_Data
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized())
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized())
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized())
do.call(cbind,Tickers)
do.call(cbind,Tickers)%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
do.call(cbind,Tickers)%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
do.call(cbind,Tickers)%>%
map(Return.calculate)%>%
map(na.fill,0)
Tickers%>%map(Return.calculate)%>%map(na.fill,0))%>%
Tickers%>%map(Return.calculate)
Annual_Data%>%
rbind(
data.frame(
do.call(cbind,Tickers%>%
map(na.fill,0))%>%
map(Return.calculate)%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))
)
Tickers%>%
map(na.fill,0))%>%
Tickers%>%
map(na.fill,0))
Tickers%>%
map(na.fill,0))
Tickers%>%
map(na.fill,0))
Tickers%>%
map(na.fill,0)
do.call(cbind,Tickers%>%
map(na.fill,0)%>%
map(Return.calculate)%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized())
do.call(cbind,Tickers%>%
map(na.fill,0)%>%
map(Return.calculate)%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized())
Tickers%>%
map(na.fill,0)%>%
map(Return.calculate)
Tickers%>%
map(na.fill,0)%>%
map(Return.calculate)%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)
do.call(cbind,Tickers%>%
map(na.fill,0)%>%
map(Return.calculate))
do.call(cbind,Tickers%>%
map(na.fill,0)%>%
map(Return.calculate))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized()
do.call(cbind,Tickers%>%
map(na.fill,-1)%>%
map(Return.calculate))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized()
do.call(cbind,Tickers%>%
map(Return.calculate))%>%
Return.portfolio(weights=rep(0.2,5),geometric = FALSE)%>%
Return.annualized()
do.call(cbind,Tickers%>%
map(Return.calculate))%>%
Return.portfolio(weights=rep(0.2,5),geometric = TRUE)%>%
Return.annualized()
Annual_Data%>%
rbind(
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate))%>%
Return.portfolio(weights=rep(0.2,5))%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5))%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))
)
Annual_Data=data.frame(`Annualized Return`=c(t(Tickers%>%map(Return.calculate)%>%map(Return.annualized)%>%unlist())),
`Annualized Standard Deviation`=c(t(Tickers%>%map(Return.calculate)%>%map(StdDev.annualized)%>%unlist())),check.names = FALSE)
rownames(Annual_Data)=names(Tickers)
Annual_Data%>%datatable()%>%formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)
Annual_Data=Annual_Data%>%
rbind(
data.frame(
do.call(cbind,Tickers%>%
map(Return.calculate))%>%
Return.portfolio(weights=rep(0.2,5))%>%
Return.annualized(),
do.call(cbind,Tickers%>%
map(Return.calculate)%>%
map(na.fill,0))%>%
Return.portfolio(weights=rep(0.2,5))%>%
StdDev.annualized())%>%
setNames(c('Annualized Return',
'Annualized Standard Deviation'))
)
rownames(Annual_Data)[6]='Equally-weighted Portfolio'
Annual_Data%>%datatable()%>%formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(
'Equally-weighted Portfolio',
target = 'row',
backgroundColor = 'yellow')
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(
'Equally-weighted Portfolio',
target = 'column',
backgroundColor = 'yellow')
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(
target = 'row',
backgroundColor = styleEqual(c(0, 1), c('gray', 'yellow')))
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(
target = 'row',
backgroundColor = styleEqual(c(0, 1), c('gray', 'yellow')))
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(
columns='Annualized Return',
target = 'row',
backgroundColor = styleEqual(c(0, 1), c('gray', 'yellow')))
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(target='row',backgroundColor = 'blue')
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(target='row',backgroundColor = 'blue')
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(target='row',backgroundColor = 'blue',columns = 1)
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(target='row',backgroundColor = 'blue',columns = 0)
datatable(iris) %>% formatStyle(
.,
columns = 1,
valueColumns = 0,
target = 'cell',
backgroundColor = styleEqual(3, 'red')
)
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(.,
columns = 1,
valueColumns = 0,
target = 'row',
backgroundColor = styleEqual(3, 'red')
)
Annual_Data%>%
datatable()%>%
formatPercentage(c("Annualized Return", "Annualized Standard Deviation"), 2)%>%
formatStyle(.,
columns = 1,
target = 'row',
backgroundColor = styleEqual(3, 'red')
)
install.packages('meedr')
quarto_update()
quarto add ShafayetShafee/collapse-social-embeds
install.packages('meedr')
getwd()
setwd("C:/Users/Lucas/OneDrive - FGV/Personal/Financial Management - 2024S1/Lecture 2 - Financial Analysis")
getwd()
450/200
200/450
200/250
15000+4500+7500
(15000+4500+7500)/24500
