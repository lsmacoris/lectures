<!DOCTYPE html>
<html lang="en"><head>
<script src="index_files/libs/clipboard/clipboard.min.js"></script>
<script src="index_files/libs/quarto-html/tabby.min.js"></script>
<script src="index_files/libs/quarto-html/popper.min.js"></script>
<script src="index_files/libs/quarto-html/tippy.umd.min.js"></script>
<link href="index_files/libs/quarto-html/tippy.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/light-border.css" rel="stylesheet">
<link href="index_files/libs/quarto-html/quarto-html.min.css" rel="stylesheet" data-mode="light">
<link href="index_files/libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles"><meta charset="utf-8">
  <meta name="generator" content="quarto-1.5.55">

  <meta name="author" content="Lucas S. Macoris">
  <title>Investor Behavior and Capital Market Efficiency</title>
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no, minimal-ui">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reset.css">
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/reveal.css">
  <style>
    code{white-space: pre-wrap;}
    span.smallcaps{font-variant: small-caps;}
    div.columns{display: flex; gap: min(4vw, 1.5em);}
    div.column{flex: auto; overflow-x: auto;}
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
    ul.task-list{list-style: none;}
    ul.task-list li input[type="checkbox"] {
      width: 0.8em;
      margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
      vertical-align: middle;
    }
    /* CSS for citations */
    div.csl-bib-body { }
    div.csl-entry {
      clear: both;
      margin-bottom: 0em;
    }
    .hanging-indent div.csl-entry {
      margin-left:2em;
      text-indent:-2em;
    }
    div.csl-left-margin {
      min-width:2em;
      float:left;
    }
    div.csl-right-inline {
      margin-left:2em;
      padding-left:1em;
    }
    div.csl-indent {
      margin-left: 2em;
    }  </style>
  <link rel="stylesheet" href="index_files/libs/revealjs/dist/theme/quarto.css">
  <link href="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/font-awesome/css/all.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/reveal-chalkboard/style.css" rel="stylesheet">
  <link href="index_files/libs/revealjs/plugin/quarto-support/footer.css" rel="stylesheet">
  <style type="text/css">

  .callout {
    margin-top: 1em;
    margin-bottom: 1em;  
    border-radius: .25rem;
  }

  .callout.callout-style-simple { 
    padding: 0em 0.5em;
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
    display: flex;
  }

  .callout.callout-style-default {
    border-left: solid #acacac .3rem;
    border-right: solid 1px silver;
    border-top: solid 1px silver;
    border-bottom: solid 1px silver;
  }

  .callout .callout-body-container {
    flex-grow: 1;
  }

  .callout.callout-style-simple .callout-body {
    font-size: 1rem;
    font-weight: 400;
  }

  .callout.callout-style-default .callout-body {
    font-size: 0.9rem;
    font-weight: 400;
  }

  .callout.callout-titled.callout-style-simple .callout-body {
    margin-top: 0.2em;
  }

  .callout:not(.callout-titled) .callout-body {
      display: flex;
  }

  .callout:not(.no-icon).callout-titled.callout-style-simple .callout-content {
    padding-left: 1.6em;
  }

  .callout.callout-titled .callout-header {
    padding-top: 0.2em;
    margin-bottom: -0.2em;
  }

  .callout.callout-titled .callout-title  p {
    margin-top: 0.5em;
    margin-bottom: 0.5em;
  }
    
  .callout.callout-titled.callout-style-simple .callout-content  p {
    margin-top: 0;
  }

  .callout.callout-titled.callout-style-default .callout-content  p {
    margin-top: 0.7em;
  }

  .callout.callout-style-simple div.callout-title {
    border-bottom: none;
    font-size: .9rem;
    font-weight: 600;
    opacity: 75%;
  }

  .callout.callout-style-default  div.callout-title {
    border-bottom: none;
    font-weight: 600;
    opacity: 85%;
    font-size: 0.9rem;
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-default div.callout-content {
    padding-left: 0.5em;
    padding-right: 0.5em;
  }

  .callout.callout-style-simple .callout-icon::before {
    height: 1rem;
    width: 1rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 1rem 1rem;
  }

  .callout.callout-style-default .callout-icon::before {
    height: 0.9rem;
    width: 0.9rem;
    display: inline-block;
    content: "";
    background-repeat: no-repeat;
    background-size: 0.9rem 0.9rem;
  }

  .callout-title {
    display: flex
  }
    
  .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  .callout.no-icon::before {
    display: none !important;
  }

  .callout.callout-titled .callout-body > .callout-content > :last-child {
    padding-bottom: 0.5rem;
    margin-bottom: 0;
  }

  .callout.callout-titled .callout-icon::before {
    margin-top: .5rem;
    padding-right: .5rem;
  }

  .callout:not(.callout-titled) .callout-icon::before {
    margin-top: 1rem;
    padding-right: .5rem;
  }

  /* Callout Types */

  div.callout-note {
    border-left-color: #4582ec !important;
  }

  div.callout-note .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEU0lEQVRYCcVXTWhcVRQ+586kSUMMxkyaElstCto2SIhitS5Ek8xUKV2poatCcVHtUlFQk8mbaaziwpWgglJwVaquitBOfhQXFlqlzSJpFSpIYyXNjBNiTCck7x2/8/LeNDOZxDuEkgOXe++553zfefee+/OYLOXFk3+1LLrRdiO81yNqZ6K9cG0P3MeFaMIQjXssE8Z1JzLO9ls20MBZX7oG8w9GxB0goaPrW5aNMp1yOZIa7Wv6o2ykpLtmAPs/vrG14Z+6d4jpbSKuhdcSyq9wGMPXjonwmESXrriLzFGOdDBLB8Y6MNYBu0dRokSygMA/mrun8MGFN3behm6VVAwg4WR3i6FvYK1T7MHo9BK7ydH+1uurECoouk5MPRyVSBrBHMYwVobG2aOXM07sWrn5qgB60rc6mcwIDJtQrnrEr44kmy+UO9r0u9O5/YbkS9juQckLed3DyW2XV/qWBBB3ptvI8EUY3I9p/67OW+g967TNr3Sotn3IuVlfMLVnsBwH4fsnebJvyGm5GeIUA3jljERmrv49SizPYuq+z7c2H/jlGC+Ghhupn/hcapqmcudB9jwJ/3jvnvu6vu5lVzF1fXyZuZZ7U8nRmVzytvT+H3kilYvH09mLWrQdwFSsFEsxFVs5fK7A0g8gMZjbif4ACpKbjv7gNGaD8bUrlk8x+KRflttr22JEMRUbTUwwDQScyzPgedQHZT0xnx7ujw2jfVfExwYHwOsDTjLdJ2ebmeQIlJ7neo41s/DrsL3kl+W2lWvAga0tR3zueGr6GL78M3ifH0rGXrBC2aAR8uYcIA5gwV8zIE8onoh8u0Fca/ciF7j1uOzEnqcIm59sEXoGc0+z6+H45V1CvAvHcD7THztu669cnp+L0okAeIc6zjbM/24LgGM1gZk7jnRu1aQWoU9sfUOuhrmtaPIO3YY1KLLWZaEO5TKUbMY5zx8W9UJ6elpLwKXbsaZ4EFl7B4bMtDv0iRipKoDQT2sNQI9b1utXFdYisi+wzZ/ri/1m7QfDgEuvgUUEIJPq3DhX/5DWNqIXDOweC2wvIR90Oq3lDpdMIgD2r0dXvGdsEW5H6x6HLRJYU7C69VefO1x8Gde1ZFSJLfWS1jbCnhtOPxmpfv2LXOA2Xk2tvnwKKPFuZ/oRmwBwqRQDcKNeVQkYcOjtWVBuM/JuYw5b6isojIkYxyYAFn5K7ZBF10fea52y8QltAg6jnMqNHFBmGkQ1j+U43HMi2xMar1Nv0zGsf1s8nUsmUtPOOrbFIR8bHFDMB5zL13Gmr/kGlCkUzedTzzmzsaJXhYawnA3UmARpiYj5ooJZiUoxFRtK3X6pgNPv+IZVPcnwbOl6f+aBaO1CNvPW9n9LmCp01nuSaTRF2YxHqZ8DYQT6WsXT+RD6eUztwYLZ8rM+rcPxamv1VQzFUkzFXvkiVrySGQgJNvXHJAxiU3/NwiC03rSf05VBaPtu/Z7/B8Yn/w7eguloAAAAAElFTkSuQmCC');
  }

  div.callout-note.callout-style-default .callout-title {
    background-color: #dae6fb
  }

  div.callout-important {
    border-left-color: #d9534f !important;
  }

  div.callout-important .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAEKklEQVRYCcVXTWhcVRS+575MJym48A+hSRFr00ySRQhURRfd2HYjk2SSTokuBCkU2o0LoSKKraKIBTcuFCoidGFD08nkBzdREbpQ1EDNIv8qSGMFUboImMSZd4/f9zJv8ibJMC8xJQfO3HPPPef7zrvvvnvviIkpC9nsw0UttFunbUhpFzFtarSd6WJkStVMw5xyVqYTvkwfzuf/5FgtkVoB0729j1rjXwThS7Vio+Mo6DNnvLfahoZ+i/o32lULuJ3NNiz7q6+pyAUkJaFF6JwaM2lUJlV0MlnQn5aTRbEu0SEqHUa0A4AdiGuB1kFXRfVyg5d87+Dg4DL6m2TLAub60ilj7A1Ec4odSAc8X95sHh7+ZRPCFo6Fnp7HfU/fBng/hi10CjCnWnJjsxvDNxWw0NfV6Rv5GgP3I3jGWXumdTD/3cbEOP2ZbOZp69yniG3FQ9z1jD7bnBu9Fc2tKGC2q+uAJOQHBDRiZX1x36o7fWBs7J9ownbtO+n0/qWkvW7UPIfc37WgT6ZGR++EOJyeQDSb9UB+DZ1G6DdLDzyS+b/kBCYGsYgJbSQHuThGKRcw5xdeQf8YdNHsc6ePXrlSYMBuSIAFTGAtQo+VuALo4BX83N190NWZWbynBjhOHsmNfFWLeL6v+ynsA58zDvvAC8j5PkbOcXCMg2PZFk3q8MjI7WAG/Dp9AwP7jdGBOOQkAvlFUB+irtm16I1Zw9YBcpGTGXYmk3kQIC/Cds55l+iMI3jqhjAuaoe+am2Jw5GT3Nbz3CkE12NavmzN5+erJW7046n/CH1RO/RVa8lBLozXk9uqykkGAyRXLWlLv5jyp4RFsG5vGVzpDLnIjTWgnRy2Rr+tDKvRc7Y8AyZq10jj8DqXdnIRNtFZb+t/ZRtXcDiVnzpqx8mPcDWxgARUqx0W1QB9MeUZiNrV4qP+Ehc+BpNgATsTX8ozYKL2NtFYAHc84fG7ndxUPr+AR/iQSns7uSUufAymwDOb2+NjK27lEFocm/EE2WpyIy/Hi66MWuMKJn8RvxIcj87IM5Vh9663ziW36kR0HNenXuxmfaD8JC7tfKbrhFr7LiZCrMjrzTeGx+PmkosrkNzW94ObzwocJ7A1HokLolY+AvkTiD/q1H0cN48c5EL8Crkttsa/AXQVDmutfyku0E7jShx49XqV3MFK8IryDhYVbj7Sj2P2eBxwcXoe8T8idsKKPRcnZw1b+slFTubwUwhktrfnAt7J++jwQtLZcm3sr9LQrjRzz6cfMv9aLvgmnAGvpoaGLxM4mAEaLV7iAzQ3oU0IvD5x9ix3yF2RAAuYAOO2f7PEFWCXZ4C9Pb2UsgDeVnFSpbFK7/IWu7TPTvBqzbGdCHOJQSxiEjt6IyZmxQyEJHv6xyQsYk//moVFsN2zP6fRImjfq7/n/wFDguUQFNEwugAAAABJRU5ErkJggg==');
  }

  div.callout-important.callout-style-default .callout-title {
    background-color: #f7dddc
  }

  div.callout-warning {
    border-left-color: #f0ad4e !important;
  }

  div.callout-warning .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAAETklEQVRYCeVWW2gcVRg+58yaTUnizqbipZeX4uWhBEniBaoUX1Ioze52t7sRq6APio9V9MEaoWlVsFasRq0gltaAPuxms8lu0gcviE/FFOstVbSIxgcv6SU7EZqmdc7v9+9mJtNks51NTUH84ed889/PP+cmxP+d5FIbMJmNbpREu4WUkiTtCicKny0l1pIKmBzovF2S+hIJHX8iEu3hZJ5lNZGqyRrGSIQpq15AzF28jgpeY6yk6GVdrfFqdrD6Iw+QlB8g0YS2g7dyQmXM/IDhBhT0UCiRf59lfqmmDvzRt6kByV/m4JjtzuaujMUM2c5Z2d6JdKrRb3K2q6mA+oYVz8JnDdKPmmNthzkAk/lN63sYPgevrguc72aZX/L9C6x09GYyxBgCX4NlvyGUHOKELlm5rXeR1kchuChJt4SSwyddZRXgvwMGvYo4QSlk3/zkHD8UHxwVJA6zjZZqP8v8kK8OWLnIZtLyCAJagYC4rTGW/9Pqj92N/c+LUaAj27movwbi19tk/whRCIE7Q9vyI6yvRpftAKVTdUjOW40X3h5OXsKCdmFcx0xlLJoSuQngnrJe7Kcjm4OMq9FlC7CMmScQANuNvjfP3PjGXDBaUQmbp296S5L4DrpbrHN1T87ZVEZVCzg1FF0Ft+dKrlLukI+/c9ENo+TvlTDbYFvuKPtQ9+l052rXrgKoWkDAFnvh0wTOmYn8R5f4k/jN/fZiCM1tQx9jQQ4ANhqG4hiL0qIFTGViG9DKB7GYzgubnpofgYRwO+DFjh0Zin2m4b/97EDkXkc+f6xYAPX0KK2I/7fUQuwzuwo/L3AkcjugPNixC8cHf0FyPjWlItmLxWw4Ou9YsQCr5fijMGoD/zpdRy95HRysyXA74MWOnscpO4j2y3HAVisw85hX5+AFBRSHt4ShfLFkIMXTqyKFc46xdzQM6XbAi702a7sy04J0+feReMFKp5q9esYLCqAZYw/k14E/xcLLsFElaornTuJB0svMuJINy8xkIYuL+xPAlWRceH6+HX7THJ0djLUom46zREu7tTkxwmf/FdOZ/sh6Q8qvEAiHpm4PJ4a/doJe0gH1t+aHRgCzOvBvJedEK5OFE5jpm4AGP2a8Dxe3gGJ/pAutug9Gp6he92CsSsWBaEcxGx0FHytmIpuqGkOpldqNYQK8cSoXvd+xLxXADw0kf6UkJNFtdo5MOgaLjiQOQHcn+A6h5NuL2s0qsC2LOM75PcF3yr5STuBSAcGG+meA14K/CI21HcS4LBT6tv0QAh8Dr5l93AhZzG5ZJ4VxAqdZUEl9z7WJ4aN+svMvwHHL21UKTd1mqvChH7/Za5xzXBBKrUcB0TQ+Ulgkfbi/H/YT5EptrGzsEK7tR1B7ln9BBwckYfMiuSqklSznIuoIIOM42MQO+QnduCoFCI0bpkzjCjddHPN/F+2Yu+sd9bKNpVwHhbS3LluK/0zgfwD0xYI5dXuzlQAAAABJRU5ErkJggg==');
  }

  div.callout-warning.callout-style-default .callout-title {
    background-color: #fcefdc
  }

  div.callout-tip {
    border-left-color: #02b875 !important;
  }

  div.callout-tip .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAADr0lEQVRYCe1XTWgTQRj9ZjZV8a9SPIkKgj8I1bMHsUWrqYLVg4Ue6v9BwZOxSYsIerFao7UiUryIqJcqgtpimhbBXoSCVxUFe9CTiogUrUp2Pt+3aUI2u5vdNh4dmMzOzHvvezuz8xNFM0mjnbXaNu1MvFWRXkXEyE6aYOYJpdW4IXuA4r0fo8qqSMDBU0v1HJUgVieAXxzCsdE/YJTdFcVIZQNMyhruOMJKXYFoLfIfIvVIMWdsrd+Rpd86ZmyzzjJmLStqRn0v8lzkb4rVIXvnpScOJuAn2ACC65FkPzEdEy4TPWRLJ2h7z4cArXzzaOdKlbOvKKX25Wl00jSnrwVxAg3o4dRxhO13RBSdNvH0xSARv3adTXbBdTf64IWO2vH0LT+cv4GR1DJt+DUItaQogeBX/chhbTBxEiZ6gftlDNXTrvT7co4ub5A6gp9HIcHvzTa46OS5fBeP87Qm0fQkr4FsYgVQ7Qg+ZayaDg9jhg1GkWj8RG6lkeSacrrHgDaxdoBiZPg+NXV/KifMuB6//JmYH4CntVEHy/keA6x4h4CU5oFy8GzrBS18cLJMXcljAKB6INjWsRcuZBWVaS3GDrqB7rdapVIeA+isQ57Eev9eCqzqOa81CY05VLd6SamW2wA2H3SiTbnbSxmzfp7WtKZkqy4mdyAlGx7ennghYf8voqp9cLSgKdqNfa6RdRsAAkPwRuJZNbpByn+RrJi1RXTwdi8RQF6ymDwGMAtZ6TVE+4uoKh+MYkcLsT0Hk8eAienbiGdjJHZTpmNjlbFJNKDVAp2fJlYju6IreQxQ08UJDNYdoLSl6AadO+fFuCQqVMB1NJwPm69T04Wv5WhfcWyfXQB+wXRs1pt+nCknRa0LVzSA/2B+a9+zQJadb7IyyV24YAxKp2Jqs3emZTuNnKxsah+uabKbMk7CbTgJx/zIgQYErIeTKRQ9yD9wxVof5YolPHqaWo7TD6tJlh7jQnK5z2n3+fGdggIOx2kaa2YI9QWarc5Ce1ipNWMKeSG4DysFF52KBmTNMmn5HqCFkwy34rDg05gDwgH3bBi+sgFhN/e8QvRn8kbamCOhgrZ9GJhFDgfcMHzFb6BAtjKpFhzTjwv1KCVuxHvCbsSiEz4CANnj84cwHdFXAbAOJ4LTSAawGWFn5tDhLMYz6nWeU2wJfIhmIJBefcd/A5FWQWGgrWzyORZ3Q6HuV+Jf0Bj+BTX69fm1zWgK7By1YTXchFDORywnfQ7GpzOo6S+qECrsx2ifVQAAAABJRU5ErkJggg==');
  }

  div.callout-tip.callout-style-default .callout-title {
    background-color: #ccf1e3
  }

  div.callout-caution {
    border-left-color: #fd7e14 !important;
  }

  div.callout-caution .callout-icon::before {
    background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAAAAXNSR0IArs4c6QAAAERlWElmTU0AKgAAAAgAAYdpAAQAAAABAAAAGgAAAAAAA6ABAAMAAAABAAEAAKACAAQAAAABAAAAIKADAAQAAAABAAAAIAAAAACshmLzAAACV0lEQVRYCdVWzWoUQRCuqp2ICBLJXgITZL1EfQDBW/bkzUMUD7klD+ATSHBEfAIfQO+iXsWDxJsHL96EHAwhgzlkg8nBg25XWb0zIb0zs9muYYWkoKeru+vn664fBqElyZNuyh167NXJ8Ut8McjbmEraKHkd7uAnAFku+VWdb3reSmRV8PKSLfZ0Gjn3a6Xlcq9YGb6tADjn+lUfTXtVmaZ1KwBIvFI11rRXlWlatwIAAv2asaa9mlB9wwygiDX26qaw1yYPzFXg2N1GgG0FMF8Oj+VIx7E/03lHx8UhvYyNZLN7BwSPgekXXLribw7w5/c8EF+DBK5idvDVYtEEwMeYefjjLAdEyQ3M9nfOkgnPTEkYU+sxMq0BxNR6jExrAI31H1rzvLEfRIdgcv1XEdj6QTQAS2wtstEALLG1yEZ3QhH6oDX7ExBSFEkFINXH98NTrme5IOaaA7kIfiu2L8A3qhH9zRbukdCqdsA98TdElyeMe5BI8Rs2xHRIsoTSSVFfCFCWGPn9XHb4cdobRIWABNf0add9jakDjQJpJ1bTXOJXnnRXHRf+dNL1ZV1MBRCXhMbaHqGI1JkKIL7+i8uffuP6wVQAzO7+qVEbF6NbS0LJureYcWXUUhH66nLR5rYmva+2tjRFtojkM2aD76HEGAD3tPtKM309FJg5j/K682ywcWJ3PASCcycH/22u+Bh7Aa0ehM2Fu4z0SAE81HF9RkB21c5bEn4Dzw+/qNOyXr3DCTQDMBOdhi4nAgiFDGCinIa2owCEChUwD8qzd03PG+qdW/4fDzjUMcE1ZpIAAAAASUVORK5CYII=');
  }

  div.callout-caution.callout-style-default .callout-title {
    background-color: #ffe5d0
  }

  </style>
  <style type="text/css">
    .reveal div.sourceCode {
      margin: 0;
      overflow: auto;
    }
    .reveal div.hanging-indent {
      margin-left: 1em;
      text-indent: -1em;
    }
    .reveal .slide:not(.center) {
      height: 100%;
    }
    .reveal .slide.scrollable {
      overflow-y: auto;
    }
    .reveal .footnotes {
      height: 100%;
      overflow-y: auto;
    }
    .reveal .slide .absolute {
      position: absolute;
      display: block;
    }
    .reveal .footnotes ol {
      counter-reset: ol;
      list-style-type: none; 
      margin-left: 0;
    }
    .reveal .footnotes ol li:before {
      counter-increment: ol;
      content: counter(ol) ". "; 
    }
    .reveal .footnotes ol li > p:first-child {
      display: inline-block;
    }
    .reveal .slide ul,
    .reveal .slide ol {
      margin-bottom: 0.5em;
    }
    .reveal .slide ul li,
    .reveal .slide ol li {
      margin-top: 0.4em;
      margin-bottom: 0.2em;
    }
    .reveal .slide ul[role="tablist"] li {
      margin-bottom: 0;
    }
    .reveal .slide ul li > *:first-child,
    .reveal .slide ol li > *:first-child {
      margin-block-start: 0;
    }
    .reveal .slide ul li > *:last-child,
    .reveal .slide ol li > *:last-child {
      margin-block-end: 0;
    }
    .reveal .slide .columns:nth-child(3) {
      margin-block-start: 0.8em;
    }
    .reveal blockquote {
      box-shadow: none;
    }
    .reveal .tippy-content>* {
      margin-top: 0.2em;
      margin-bottom: 0.7em;
    }
    .reveal .tippy-content>*:last-child {
      margin-bottom: 0.2em;
    }
    .reveal .slide > img.stretch.quarto-figure-center,
    .reveal .slide > img.r-stretch.quarto-figure-center {
      display: block;
      margin-left: auto;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-left,
    .reveal .slide > img.r-stretch.quarto-figure-left  {
      display: block;
      margin-left: 0;
      margin-right: auto; 
    }
    .reveal .slide > img.stretch.quarto-figure-right,
    .reveal .slide > img.r-stretch.quarto-figure-right  {
      display: block;
      margin-left: auto;
      margin-right: 0; 
    }
  </style>
</head>
<body class="quarto-light">
  <div class="reveal">
    <div class="slides">

<section id="title-slide" class="quarto-title-block center">
  <h1 class="title">Investor Behavior and Capital Market Efficiency</h1>

<div class="quarto-title-authors">
<div class="quarto-title-author">
<div class="quarto-title-author-name">
Lucas S. Macoris 
</div>
</div>
</div>

</section>
<section id="outline" class="slide level2">
<h2>Outline</h2>
<ul>
<li class="fragment"><p>This lecture is mainly based the following textbooks:</p>
<ol type="1">
<li class="fragment"><span class="citation" data-cites="BDM">(<a href="#/references" role="doc-biblioref" onclick="">Berk and DeMarzo 2023</a>)</span></li>
<li class="fragment"><span class="citation" data-cites="BMA">(<a href="#/references" role="doc-biblioref" onclick="">Brealey, Myers, and Allen 2020</a>)</span></li>
</ol></li>
<li class="fragment"><p>Study review and practice: I strongly recommend using <a href="https://henriquemartins.net/">Prof.&nbsp;Henrique Castro</a> (FGV-EAESP) materials. Below you can find the links to the corresponding exercises related to this lecture:</p>
<ol type="1">
<li class="fragment">Multiple Choice Exercises - click <a href="https://henriquemartins.net/teaching/financial_strategy/p5tf.html">here</a></li>
<li class="fragment">Numeric Exercises - click <a href="https://henriquemartins.net/teaching/financial_strategy/p5num.html">here</a></li>
</ol></li>
</ul>
<div class="fragment">
<p><span class="math inline">\(\rightarrow\)</span> <em>For coding replications, whenever applicable, please follow <a href="https://lsmacoris.github.io/lectures/fin-strat.html">this</a> page or hover on the specific slides with coding chunks</em></p>
</div>
</section>
<section>
<section id="competition-and-capital-markets" class="title-slide slide level1 center">
<h1>Competition and Capital Markets</h1>

</section>
<section id="competition-and-capital-markets-1" class="slide level2">
<h2>Competition and Capital Markets</h2>
<ul>
<li class="fragment"><p>Our previous lecture showed us the backbone of the <span class="blue">Capital Asset Pricing Model</span>, also known as <span class="blue">CAPM</span></p>
<ol type="1">
<li class="fragment">The <span class="blue">CAPM</span> allows us to price the required returns for any given security given its relationship with the market portfolio</li>
<li class="fragment">However, to reach such result, we have made some assumptions regarding the dynamics of investors and the market</li>
</ol></li>
<li class="fragment"><p>What if these assumptions are not met? How does that impact the insights derived from the <span class="blue">CAPM</span>?</p></li>
<li class="fragment"><p>In this chapter, we will discuss several inefficiencies and biases that appear in the stock market</p></li>
</ul>
</section>
<section id="capital-market-dynamics" class="slide level2">
<h2>Capital Market Dynamics</h2>
<ul>
<li class="fragment"><p>The <span class="blue">CAPM</span> tells us that there is only one efficient portfolio, and this portfolio is the <span class="blue">market</span> portfolio</p></li>
<li class="fragment"><p>However, how can we identify the market portfolio? It is important to note the following aspects regarding this point:</p>
<ol type="1">
<li class="fragment">The market is always getting new information. Therefore, security prices are always adjusting…</li>
<li class="fragment">…as a consequence, this makes the efficient portfolio move from time to time…</li>
<li class="fragment">…and as such, investors will rebalance their portfolios continuously to meet the new efficient portfolio</li>
</ol></li>
<li class="fragment"><p>All in all, the <span class="blue">CAPM</span> is an <em>equilibrium</em> model. This means that all investors will converge to the same portfolio until new information arrives, but there is no such th</p></li>
</ul>
</section>
<section id="beating-the-market" class="slide level2">
<h2>Beating the market</h2>
<ul>
<li class="fragment"><p>Say that you are evaluating the performance of several stocks relative to their expected returns</p></li>
<li class="fragment"><p>To improve the performance of their portfolios, investors will compare the expected return of a security <span class="math inline">\(i\)</span> with its required return from the security market line:</p></li>
</ul>
<div class="fragment">
<p><span class="math display">\[R_i = R_f + \beta_S \times (E[R_m - R_f])\]</span></p>
<ul>
<li class="fragment">Now, after calculating expected returns for <span class="math inline">\(i\)</span>, you go ahead and compare it with the actual, <em>realized</em> return that <span class="math inline">\(i\)</span> gave during a given period:</li>
</ul>
</div>
<div class="fragment">
<p><span class="math display">\[\alpha_i = E[R_i] - R_i\]</span></p>
<ul>
<li class="fragment">That is, <span class="math inline">\(\alpha\)</span> is the difference between a stock’s expected return and its required return according to the Security Market Line</li>
</ul>
</div>
</section>
<section id="interpreting-alpha" class="slide level2">
<h2>Interpreting <span class="math inline">\(\alpha\)</span></h2>
<ol type="1">
<li class="fragment">A <span class="green">positive</span> alpha means that the stock is <span class="green">above</span> the SML - in words, the expected return is <span class="green">higher</span> than its required return</li>
<li class="fragment">A <span class="negative">negative</span> alpha means that the stock is <span class="red">below</span> the SML - in words, the expected return is <span class="green">lower</span> than its required return</li>
</ol>
<div class="fragment">
<p><span class="math inline">\(\rightarrow\)</span> <em>If we buy stocks with positive alphas or, analogously, sell stocks with negative alphas, this will improve portfolio results. However, but as we do so, prices will change and their alphas will shrink toward zero</em></p>
</div>
</section>
<section id="interpreting-alpha-graphical-intuition" class="slide level2">
<h2>Interpreting <span class="math inline">\(\alpha\)</span>, graphical intuition</h2>
<div class="quarto-figure quarto-figure-center">
<figure>
<p><img data-src="Images/F1.png" class="quarto-figure quarto-figure-center" style="width:60.0%"></p>
</figure>
</div>
</section>
<section id="beating-the-market-and-market-competition" class="slide level2">
<h2>Beating the Market and Market competition</h2>
<ul>
<li class="fragment"><p>Let’s analyze what happens in the previous figure:</p>
<ol type="1">
<li class="fragment">Stocks <span class="green">above</span> the SML are <span class="green">cheap</span>, so the prices should <span class="green">rise</span> (<span class="green">positive</span> alpha)</li>
<li class="fragment">Stocks <span class="red">below</span> the SML are <span class="red">expensive</span>, so the prices should <span class="red">drop</span> (<span class="red">negative</span> alpha)</li>
</ol></li>
<li class="fragment"><p>Because of that, we say that the <span class="blue">CAPM</span> is also a competitive market in equilibrium:</p>
<ol type="1">
<li class="fragment">Investors trying to <em>“beat the market”</em> are always looking for stocks with positive alpha (Walmart and Nike) to buy</li>
<li class="fragment">Once they buy them, the prices rise, making the stocks once again on the security market line</li>
</ol></li>
</ul>
<div class="fragment">
<p><span class="math inline">\(\rightarrow\)</span> <em>There is a competition in the market and that competition brings efficiency to the CAPM!</em></p>
</div>
</section></section>
<section>
<section id="information-rational-expectations" class="title-slide slide level1 center">
<h1>Information &amp; Rational Expectations</h1>

</section>
<section id="information-rational-expectactions-theory" class="slide level2">
<h2>Information &amp; Rational Expectactions, theory</h2>
<ul>
<li class="fragment"><p>In the CAPM world, investors should hold the market portfolio combined with <span class="math inline">\(R_f\)</span>. Why? Recall that we have assumed that investors had homogeneous expectations (<em>Assumption #3</em>). However, for the CAPM to hold, we only need a <em>Rational Expectations Hypothesis</em>:</p>
<ol type="1">
<li class="fragment">All investors correctly interpret and use their own information, as well as information that can be inferred from market prices or the trades of others</li>
<li class="fragment">Regardless of how much information an investor has access to, he/she can guarantee a zero <span class="blue"><span class="math inline">\(\alpha\)</span></span> by holding the market portfolio</li>
</ol></li>
<li class="fragment"><p><strong>Therefore, the market portfolio can be inefficient only if a significant number of investors:</strong></p>
<ol type="1">
<li class="fragment">Misinterpret information and believe they are earning a positive alpha when they are actually earning a negative alpha, or</li>
<li class="fragment">Care about aspects of their portfolios other than expected return and volatility, and so are willing to hold inefficient portfolios (in terms of risk and return) of securities</li>
</ol></li>
</ul>
</section>
<section id="information-rational-expectations-practice" class="slide level2">
<h2>Information &amp; Rational Expectations, practice</h2>
<ul>
<li class="fragment"><p>In the real world, what usually happens is that <em>informed</em> investors (<em>i.e</em>, those that have more attention, such as security analysts, professional traders, fund managers etc) get the information and trade faster than <em>naive</em> investors</p></li>
<li class="fragment"><p>This unbalance of information makes the market <em>not fully efficient</em> sometimes (especially when new information arrives)</p>
<ol type="1">
<li class="fragment">If all investors had the same information, when new information arrives, the prices wouuld adjust right away, often without trade</li>
<li class="fragment">As some investors have (or process) the information faster than others, the market portfolio may not reflect the the efficient one</li>
</ol></li>
</ul>
</section></section>
<section>
<section id="the-behavior-of-individual-investors" class="title-slide slide level1 center">
<h1>The Behavior of Individual Investors</h1>

</section>
<section id="the-behavior-of-individual-investors-1" class="slide level2">
<h2>The Behavior of Individual Investors</h2>
<ul>
<li class="fragment">If there is something that may put the market portfolio away from the efficient portfolio, it has to do with how investors make decisions around their portfolios</li>
<li class="fragment">In this subsection, we discuss several biases that individual investors have when building their personal portfolio</li>
<li class="fragment">Some of these individual biases included, but are not limited, to:</li>
</ul>
<ol type="1">
<li class="fragment">Familiarity bias</li>
<li class="fragment">Relative Wealth Concerns</li>
<li class="fragment">Overconfidence</li>
<li class="fragment">Sensation Seeking</li>
</ol>
</section>
<section id="individual-bias-1-underdiversification-bias" class="slide level2">
<h2>Individual Bias #1: Underdiversification bias</h2>
<ul>
<li class="fragment"><p>One bias that appears in many countries is the <span class="blue">underdiversification</span> bias. In other words, there is much evidence that individual investors fail to diversify their portfolios adequately</p></li>
<li class="fragment"><p>Some potential explanations for the underdiversification bias</p>
<ol type="1">
<li class="fragment"><p><span class="blue">Familiarity Bias</span>: investors favor investments in companies with which they are familiar</p></li>
<li class="fragment"><p><span class="blue">Relative Wealth Concerns</span>: investors care more about the performance of their portfolios relative to their peers</p></li>
</ol></li>
</ul>
</section>
<section id="individual-bias-2-excessive-trading-and-overconfidence" class="slide level2">
<h2>Individual Bias #2: Excessive Trading and Overconfidence</h2>
<ul>
<li class="fragment"><p>Individual investors often trade <em>beyond</em> what is predicted by the CAPM. Some reasons may include:</p>
<ol type="1">
<li class="fragment"><span class="blue">Overconfidence Bias</span>: investors believe they can pick winners and losers when, in fact, they cannot; this leads them to trade too much</li>
<li class="fragment"><span class="blue">Sensation Seeking</span>: an individual’s desire for novel and intense risk-taking experiences</li>
</ol></li>
<li class="fragment"><p>By the simple fact that naive investors trade too often, they should get lower returns due to trading costs</p></li>
</ul>
</section>
<section id="biases-and-the-capm" class="slide level2">
<h2>Biases and the CAPM</h2>
<ul>
<li class="fragment"><p>If investors do not hold the market portfolio, does it mean that CAPM is not a good model?</p>
<ol type="1">
<li class="fragment">If individuals depart from the CAPM in <span class="blue">random</span> ways, then these departures will tend to <em>cancel out</em></li>
<li class="fragment">These naive investors might only be trading erratically, thus not really affecting the market</li>
</ol></li>
<li class="fragment"><p>Therefore, this should not put us far from what is predicted by the CAPM: the market porfolio should still be the efficient portfolio!</p></li>
<li class="fragment"><p>On the other hand, where would the <span class="blue">CAPM</span> <span class="red">fail</span>? If investors depart from the market portfolio in a <span class="blue">consistent</span> and <span class="blue">predictable</span> manner!</p></li>
</ul>
</section>
<section id="systematic-trading-biases" class="slide level2">
<h2>Systematic Trading Biases</h2>
<ul>
<li class="fragment"><p>For the behavior of individual investors to impact market prices, and thus create a profitable opportunity for more sophisticated investors, there must be <span class="blue">predictable</span>, <span class="blue">systematic</span> patterns in the types of errors individual investors make</p></li>
<li class="fragment"><p>Much of these biases are studied within a relatively new field of <em>behavioral economics</em> (and <em>behavioral finance</em>)</p></li>
<li class="fragment"><p>As we’ll see in the upcoming slides, there are some predictable, systematic patterns in the types of errors individual investors make and that would create a profit opportunity for sophisticated investors</p></li>
</ul>
</section>
<section id="systematic-bias-1-disposition-effect" class="slide level2">
<h2>Systematic Bias #1: Disposition Effect</h2>
<ul>
<li class="fragment">Definition: an investor holds on to stocks that have lost their value and sell stocks that have risen in value since the time of purchase
<ol type="1">
<li class="fragment">Suggests a reluctance to “admit a mistake” by taking the loss. More common in non-sophisticated investors.</li>
<li class="fragment">This behavioral tendency to sell winners and hang on to losers is costly from a tax perspective.
<ul>
<li class="fragment">Because capital gains are taxed only when the asset is sold, it is optimal for tax purposes to postpone taxable gains by continuing to hold profitable investments</li>
<li class="fragment">In Brazil, we do not pay taxes if sell less than 20,000 BRL by month.</li>
</ul></li>
</ol></li>
</ul>
</section>
<section id="systematic-bias-2-attention-grabbing-stories" class="slide level2">
<h2>Systematic Bias #2: Attention-grabbing stories</h2>
<ul>
<li class="fragment">Studies show that individuals are more likely to buy stocks that have recently been in the news, engaged in advertising, experienced exceptionally high trading volume, or have had extreme returns</li>
</ul>
</section>
<section id="systematic-bias-3-mood" class="slide level2">
<h2>Systematic Bias #3: mood</h2>
<ul>
<li class="fragment">Sunshine generally has a positive effect on mood, and studies have found that stock returns tend to be higher when it is a sunny day at the location of the stock exchange.</li>
<li class="fragment">People who grew up and lived during a time of high stock returns are more likely to invest in stocks than are people who experienced times when stocks performed poorly.</li>
</ul>
</section>
<section id="systematic-bias-4-herd-behavior" class="slide level2">
<h2>Systematic Bias #4: Herd Behavior</h2>
<ul>
<li class="fragment">When investors make similar trading errors because they are actively trying to follow each other’s behavior.</li>
</ul>
</section>
<section id="implications-of-systematic-behavioral-biases" class="slide level2">
<h2>Implications of Systematic Behavioral Biases</h2>
<ul>
<li class="fragment"><p>If non-sophisticated individual investors are engaging in strategies that earn <span class="red">negative</span> alphas, it may be possible for more sophisticated investors to take advantage of this behavior and earn <span class="green">positive</span> alphas</p></li>
<li class="fragment"><p>What is surprising, however, is that these mistakes persist even though they may be economically costly and there is a relatively easy way to avoid them—buying and holding the market portfolio</p></li>
<li class="fragment"><p>Regardless of why individual investors choose not to protect themselves by holding the market portfolio, the fact that they don’t has potential implications for the CAPM. If individual investors are engaging in strategies that earn negative alphas</p></li>
<li class="fragment"><p><strong>Question:</strong> is there evidence that such savvy investors exist?</p></li>
</ul>
</section></section>
<section>
<section id="the-efficiency-of-the-market-portfolio" class="title-slide slide level1 center">
<h1>The Efficiency of the Market Portfolio</h1>

</section>
<section id="the-efficiency-of-the-market-portfolio-1" class="slide level2">
<h2>The Efficiency of the Market Portfolio</h2>
<ul>
<li class="fragment"><p>When individual investors make mistakes, can sophisticated investors easily profit at their expense?</p></li>
<li class="fragment"><p>That is, are these biases systematic and pervasive enough so that sophisticated investors can profit from them?</p></li>
</ul>
</section>
<section id="example-1-mad-money-jim-cramer-effect" class="slide level2">
<h2>Example 1: Mad Money Jim <a href="https://www.youtube.com/watch?v=b1HVnWin6O4">Cramer effect</a></h2>
</section>
<section id="example-2-performance-of-fund-managers" class="slide level2">
<h2>Example 2: Performance of fund managers</h2>
<ul>
<li class="fragment"><p>You decide not to try activetly beating the market - the best you can do is to hire someone that is a more informed investor than you. Will this strategy pay out?</p></li>
<li class="fragment"><p>Empirical evidence shows that:</p>
<ol type="1">
<li class="fragment">The average mutual fund manager can generate value (before computing trading costs and fees, <em>i.e.</em>, <em>“gross alpha”</em>)</li>
<li class="fragment">The median mutual fund manager, on the other hand, destroys value</li>
<li class="fragment">Only a small portion of managers are skilled enough to add value, according to this reference, in terms of <em>net alpha</em></li>
</ol></li>
</ul>
</section>
<section id="example-2-performance-of-fund-managers-continued" class="slide level2">
<h2>Example 2: Performance of fund managers, continued</h2>
<ul>
<li class="fragment"><p>Because individual investors pay fees to fund managers, the net alpha is negative.</p></li>
<li class="fragment"><p>That is, on average, fund managers do not provide value after fees, comparing to passive index funds.</p></li>
<li class="fragment"><p>There is a trap of liquidity:</p>
<ol type="1">
<li class="fragment">If a manager is perceived as skilled, the deposits will grow, making harder to find above-average investment opportunities.</li>
<li class="fragment">Performance would converge to the mean, at best.</li>
</ol></li>
<li class="fragment"><p>At the end of the day, the market is competitive and people profit following the theoretical predictions</p>
<ul>
<li class="fragment">Skilled managers are recompensated for their skills. They capture the economic rents associated with their skills</li>
<li class="fragment">Investors are not recompensated for the skills of the managers they select</li>
</ul></li>
</ul>
</section>
<section id="the-efficiency-of-the-market-portfolio-after-considering-biases" class="slide level2">
<h2>The Efficiency of the Market Portfolio after considering biases</h2>
<ul>
<li class="fragment"><p>We saw a series of potential biases that appear in real financial markets and how they can impact investor behavior</p></li>
<li class="fragment"><p>To what it concerns us, we should ask yourselves: is this changing the <span class="blue">CAPM</span> prediction?</p></li>
<li class="fragment"><p>Final recommendation: the evidence seems to support the CAPM prediction that investors should hold the <span class="blue">market</span> portfolio</p></li>
<li class="fragment"><p>All in all, beating the market should requires special skills or lower trading costs, which uninformed, individual investors don’t have</p></li>
</ul>
</section></section>
<section>
<section id="style-based-techniques-efficiency" class="title-slide slide level1 center">
<h1>Style-Based Techniques &amp; efficiency</h1>

</section>
<section id="style-based-techniques-efficiency-1" class="slide level2">
<h2>Style-Based Techniques &amp; efficiency</h2>
<ul>
<li class="fragment">In the previous section, we discussed potential biases that individual investors might have</li>
<li class="fragment">All in all, they all point to the fact that sophistication plays a role:
<ol type="1">
<li class="fragment">More sophisticated investors should be less prone to individual and systematic biases (in theory, at least)</li>
<li class="fragment">As a consequence, uninformed, low-skilled investors would be better-off if they simply hold the market portfolio</li>
</ol></li>
<li class="fragment">In this section, we will look at possible trading strategies, disregarding one’s sophistication</li>
</ul>
</section>
<section id="size-effect" class="slide level2">
<h2>Size Effect</h2>
<ul>
<li class="fragment">Small market capitalization stocks have historically earned higher average returns than the market portfolio, even after accounting for their higher betas.</li>
</ul>
</section>
<section id="book-to-market-ratio" class="slide level2">
<h2>Book-to-Market Ratio</h2>
<ul>
<li class="fragment"><p>High book-to-market stocks have historically earned higher average returns than low book-to-market stocks.</p></li>
<li class="fragment"><p>Stocks with high book-to-market ratios are value stocks, and those with low book-to-market ratios are growth stocks</p></li>
</ul>
</section>
<section id="style-based-techniques-efficiency-practice" class="slide level2">
<h2>Style-Based Techniques &amp; efficiency, practice</h2>
<ul>
<li class="fragment"><p>Suppose two firms, ABC and XYZ, are both expected to pay a dividend stream of $2.2 million per year in perpetuity. ABC’s cost of capital is 12% per year, and XYZ’s cost of capital is 16%.</p>
<ol type="1">
<li class="fragment"><p>Which firm has the higher market value?</p></li>
<li class="fragment"><p>Which firm has the higher expected return? . . .</p></li>
</ol></li>
</ul>
<p><span class="math display">\[MValue_{ABC} = \frac{2.200.000}{0.12} = 18.333.333\]</span></p>
<p><span class="math display">\[MValue_{XYZ} = \frac{2.200.000}{0.16} = 50.000\]</span></p>
<p><span class="math display">\[E[R_{ABC}] = 0.12\]</span> <span class="math display">\[E[R_{XYZ}] = 0.16\]</span></p>
</section>
<section id="style-based-techniques-efficiency-practice-1" class="slide level2">
<h2>Style-Based Techniques &amp; efficiency, practice</h2>
<ul>
<li class="fragment"><p>Now assume both stocks have the same estimated beta, either because of estimation error or because the market portfolio is not efficient. Based on this beta, the CAPM would assign an expected return of 15% to both stocks.</p>
<ol type="1">
<li class="fragment"><p>Which firm has the higher alpha?</p></li>
<li class="fragment"><p>How do the market values of the firms relate to their alphas?</p></li>
</ol></li>
</ul>
<div class="fragment">
<p><span class="math display">\[\alpha_{ABC} = E[R] - R_s =  0.12 - 0.15 = -0.03\]</span></p>
<p><span class="math display">\[\alpha_{XYZ} = E[R] - R_s = 0.16 - 0.15 = 0.01\]</span></p>
<ul>
<li class="fragment">The firm with the lower market value has the higher alpha.</li>
</ul>
</div>
</section>
<section id="momentum" class="slide level2">
<h2>Momentum</h2>
<ul>
<li class="fragment"><p>Idea: rank stocks each month by their realized returns over the prior 6–12 months. They found that the best-performing stocks had positive alphas over the next 3–12 months.</p>
<ol type="1">
<li class="fragment">This evidence goes against the CAPM: When the market portfolio is efficient, past returns should not predict alphas.</li>
<li class="fragment">So the strategy is: Buying stocks that have had past high returns and (short) selling stocks that have had past low returns.</li>
</ol></li>
<li class="fragment"><p>These three factors (Size, book-to-market, and Momentun) are widely famous as the three <span class="blue">Fama-French factors</span></p></li>
</ul>
</section>
<section id="what-if-alpha-is-consistently-different-from-zero" class="slide level2">
<h2>What if <span class="math inline">\(\alpha\)</span> is consistently different from zero?</h2>
<ul>
<li class="fragment">Let’s go back to our <span class="math inline">\(\alpha\)</span> definition for a given stock <span class="math inline">\(i\)</span>:</li>
</ul>
<p><span class="math display">\[
\alpha_i = E[R_i] - R_i
\]</span></p>
<ul>
<li class="fragment">As we discussed, if you assume that <span class="blue">CAPM</span> is the correct model to explain expected returns, competition in financial markets should make <span class="math inline">\(\alpha \rightarrow 0\)</span> in equilibrium:
<ol type="1">
<li class="fragment">Stocks <span class="green">above</span> the SML are <span class="green">cheap</span>, so the prices should <span class="green">rise</span> (<span class="green">positive</span> alpha).</li>
<li class="fragment">Stocks <span class="red">below</span> the SML are <span class="red">expensive</span>, so the prices should <span class="red">drop</span> (<span class="red">negative</span> alpha).</li>
</ol></li>
</ul>
</section>
<section id="what-if-alpha-is-consistently-different-from-zero-continued" class="slide level2">
<h2>What if <span class="math inline">\(\alpha\)</span> is consistently different from zero? Continued</h2>
<ul>
<li class="fragment"><p>What if <span class="green">positive-alpha</span> strategies exist in a persistent way? That can be due to two factors:</p>
<ol type="1">
<li class="fragment"><p>If the <span class="blue">CAPM</span> is correct, these strategies can persist in a market is if some barrier to entry restricts the competition dynamics that ultimately drive investors to the efficient portfolio. This is not likely, especially the recent years, when trading costs are very low and markets are integrated.</p></li>
<li class="fragment"><p>On the other hand, what if the CAPM is failing to capture the efficient portfolio and, therefore, a stock’s beta with the market is not an adequate measure of its systematic risk?</p></li>
</ol></li>
<li class="fragment"><p>So, if these positive-alpha trading strategies exist, they contain risk that investors are unwilling to bear but the CAPM does not capture.</p></li>
<li class="fragment"><p>That is, a stock’s beta with the market portfolio does not adequately measure a stock’s systematic risk, and so the CAPM does not correctly compute the risk premium!</p></li>
</ul>
</section>
<section id="potential-explanations-capm-assumptions" class="slide level2">
<h2>Potential explanations: CAPM assumptions</h2>
<ul>
<li class="fragment"><p>Some reasons of why positive-alpha strategies can persist can be inherently tied to the assumptions tied out to the <span class="blue">CAPM</span> defintion:</p>
<ol type="1">
<li class="fragment"><p><span class="blue">Proxy error</span>: we might be not using a good proxy for the market portfolio</p></li>
<li class="fragment"><p><span class="blue">Behavioral biases</span>: we have made assumptions on investor behavior, but it might be the case that non-sophisticated investors find hard do approximate their portfolio to the market portfolio</p></li>
<li class="fragment"><p><span class="blue">Alternative Risk Preferences and Non-Tradable Wealth:</span>: we assumed that investor would always seek for the best risk <span class="math inline">\(\times\)</span> return combination. However, investors may stick with inefficient portfolios because they care about risk characteristics other than the volatility of their traded portfolio. For instance, they prefer to not be exposed to the sector they work in or to specific industries (<em>i.e.</em>, ESG-based decisions)</p></li>
</ol></li>
</ul>
</section></section>
<section>
<section id="multifactor-models-of-risk" class="title-slide slide level1 center">
<h1>Multifactor Models of Risk</h1>

</section>
<section id="multifactor-models-of-risk-1" class="slide level2">
<h2>Multifactor Models of Risk</h2>
<ul>
<li class="fragment">In previous lectures, we defined that the required return for any given security <span class="math inline">\(i\)</span> should follow:</li>
</ul>
<p><span class="math display">\[
E[R_i] = R_f + \beta_i^P \times (E[R_P - R_f])
\]</span></p>
<ol type="1">
<li class="fragment">At first, we were <em>agnostic</em> on what <span class="math inline">\(P\)</span> should stand for.</li>
<li class="fragment">When we introduced the <span class="blue">CAPM</span>, we claimed that <span class="math inline">\(P=M\)</span> - <em>i.e</em>, the efficient portfolio is the market portfolio</li>
<li class="fragment">However, we saw several real-world frictions that might yield us the umncomfortable outcome that market portfolio <em>is not efficient</em>!</li>
</ol>
<p><span class="math inline">\(\rightarrow\)</span> <em>When the market portfolio is not efficient, we have to find a method to identify an efficient portfolio before we can use the above equation!</em></p>
</section>
<section id="multifactor-models-of-risk-2" class="slide level2">
<h2>Multifactor Models of Risk</h2>
<ul>
<li class="fragment"><p>Single-Factor Model: a model that uses one portfolio. Example: CAPM</p></li>
<li class="fragment"><p>However, it is not actually necessary to identify the efficient portfolio itself, as long as you identify a collection of portfolios from which the efficient portfolio can be constructed</p></li>
<li class="fragment"><p>Multi-Factor Model</p></li>
<li class="fragment"><p>A model that uses more than oneportfolio in the model</p></li>
<li class="fragment"><p>Example: Arbitrage Pricing Theory (APT)</p></li>
<li class="fragment"><p>Based on the idea of self-financing portfolios: weights sum to 0.</p>
<ul>
<li class="fragment">Short and long at the same time</li>
<li class="fragment">Ex: long in market portfolio, short in <span class="math inline">\(R_f\)</span></li>
</ul></li>
</ul>
</section>
<section id="fama-french-carhart-ffc" class="slide level2">
<h2>Fama-French-Carhart (FFC):</h2>
<p><span class="math display">\[E[R_s] = R_f + \beta_s^m \times (E[R_m]− R_f)  + \beta_s^{SMB} \times E[R_{SMB}] + \beta_s^{HML} \times E[R_{HML}] + \beta_s^{Mon} \times E[R_{Mom}] \]</span></p>
<ul>
<li class="fragment">SMB: small-minus-big portfolio
<ul>
<li class="fragment">A strategy that buys a portfolio of small stocks and sells a portfolio of big stocks.</li>
</ul></li>
<li class="fragment">HML: high-minus-low
<ul>
<li class="fragment">A trading strategy that buys an equally weighted portfolio of stocks with a book-to-market ratio less than the 30th percentile of NYSE firms and finances this position by short selling an equally weighted portfolio of stocks with a book-to-market ratio greater than the 70th percentile of NYSE stocks.</li>
</ul></li>
<li class="fragment">Mom (PR1YR): Momentum
<ul>
<li class="fragment">Each year, after ranking stocks by their return over the last one year, a trading strategy that buys the top 30% of stocks and finances this position by short selling bottom 30% of stocks.</li>
</ul></li>
</ul>
</section>
<section id="multifactor-models-of-risk-3" class="slide level2">
<h2>Multifactor Models of Risk</h2>
<p>Problem</p>
<p>You are considering making an investment in a project in the semiconductor industry. The project has the same level of non-diversifiable risk as investing in Intel stock. Assume you have calculated the following factor betas for Intel stock, determine the cost of capital by using the FFC factor specification if the monthly risk-free rate is 0.5%.</p>
<p><span class="math display">\[\beta_i^M=0.171 ; E[R_m] - R_f = .61\%\]</span> <span class="math display">\[\beta_i^{SMB}=0.432 ; E[R_{SMB}] = .25\%\]</span> <span class="math display">\[\beta_i^{HML}=0.419 ; E[R_{HML}] = .38\%\]</span> <span class="math display">\[\beta_i^{Mom}=0.121 ; E[R_{Mom}] = .70\%\]</span></p>
<div class="fragment">
<ul>
<li class="fragment">The annual cost of capital is 0.009562 × 12 = 11.47%</li>
</ul>
</div>
</section>
<section id="multifactor-models-of-risk-4" class="slide level2">
<h2>Multifactor Models of Risk</h2>
<p>Multifactor models</p>
<ul>
<li class="fragment">One advantage: we can build several portfolios to capture systematic risk</li>
<li class="fragment">One disadvantage: we need to estimate expected returns to each risk factor (not easy, usually historical return).</li>
</ul>
<div class="fragment">
<p>Smart Beta</p>
<p>Each of the previous factors are called risk factors.</p>
<p>A smart Beta strategy is the idea that investors can tailor their risk exposures based on specific risk factors.</p>
</div>
</section></section>
<section>
<section id="efficient-markets" class="title-slide slide level1 center">
<h1>Efficient Markets</h1>

</section>
<section id="efficient-markets-and-behavioral-finance" class="slide level2">
<h2>Efficient Markets and behavioral finance</h2>
<p>There are three forms of efficiency.</p>
<p>Weak efficiency:prices incorporate all information contained in the record of pastprices. Prices follow a random walk.</p>
<ul>
<li class="fragment"><p>Imagine a toin coss.</p></li>
<li class="fragment"><p>Each outcome is independent of the previous outcome.</p></li>
</ul>
<div class="fragment">
<p>Semistrong efficiency:prices incorporate all public information, including information from the internet, the press, and other public sources.</p>
<ul>
<li class="fragment">It means that stock prices respond to relevant news quickly and completely.</li>
</ul>
</div>
<div class="fragment">
<p>Strong efficiency:prices reflect all the information, public and private.</p>
<ul>
<li class="fragment"><p>An efficient market does not mean that nobody earns a return.</p></li>
<li class="fragment"><p>It means that investors will earn a return that is appropriate for the risk undertaken (CAPM!)</p></li>
</ul>
</div>
</section>
<section id="random-walk-weak-efficiency" class="slide level2">
<h2>Random Walk (weak efficiency)</h2>
<p>Imagine a toin coss.</p>
<p>Each outcome is independent of the previous outcome.</p>
<p>So the likelihood of heads and tails are the same.</p>
<p>If prices are random, the likelihood of going up and going down is the same at each moment.</p>
<div class="fragment">
<p>Prices in competitive markets must follow a random walk.</p>
<p>If past price changes could be used to predict future price changes, investors could make easy profits.</p>
<p>As investors try to take advantage of any information in past prices, prices adjust immediately until the superior profits from studying price movements disappear.</p>
</div>
</section>
<section id="random-walk-weak-efficiency-1" class="slide level2">
<h2>Random Walk (weak efficiency)</h2>
<p>Prices adjust immediately.</p>
<p><img data-src="figs/bre13901_1302.jpg"></p>
</section>
<section id="semistrong-efficiency" class="slide level2">
<h2>Semistrong efficiency</h2>
<p>It means that stock prices respond to relevant news quickly and completely.</p>
<p>News –&gt; change in stock price.</p>
<div class="fragment">
<p>Examples of evidence that suggest semistrong efficiency:</p>
<ul>
<li class="fragment">Alphas</li>
<li class="fragment">Takeover adjustment (during some weeks, not all at once)</li>
<li class="fragment">Professional managers “beating the market”</li>
</ul>
</div>
</section>
<section id="section" class="slide level2">
<h2></h2>
<ul>
<li class="fragment">About which type of efficiency is he talking here? <a href="https://dilbert.com/strip/1997-10-14">Link</a></li>
</ul>
<p><img data-src="figs/dogbert.png"></p>
</section>
<section id="strong-efficiency" class="slide level2">
<h2>Strong efficiency</h2>
<p>An efficient market does not mean that nobody earns a return.</p>
<p>It means that investors will earn a return that is appropriate for the risk undertaken (CAPM!)</p>
</section>
<section id="are-markets-efficient-video" class="slide level2">
<h2>Are markets efficient? <a href="https://www.youtube.com/watch?v=bM9bYOBuKF4">Video</a></h2>
<p><img data-src="figs/are_markets_efficient.png"></p>
</section>
<section id="bubbles" class="slide level2">
<h2>Bubbles</h2>
<p>How can we explain bubbles?<a href="https://historyofyesterday.com/the-1636-tulip-mania-defines-the-present-economic-bubble-641b70fb8980">Link</a></p>
<p><img data-src="figs/tulip.jpg"></p>
</section>
<section id="bubbles-1" class="slide level2">
<h2>Bubbles</h2>
<p><img data-src="figs/buysell.jpg"></p>
</section></section>
<section>
<section id="methods-used-in-practice" class="title-slide slide level1 center">
<h1>Methods Used in Practice</h1>

</section>
<section id="methods-used-in-practice-1" class="slide level2">
<h2>Methods Used in Practice</h2>
<p>So, given the evidence against and for the CAPM, and market efficiency, is the cAPM used in real life?</p>
<div class="fragment">
<p>Financial Managers</p>
<ul>
<li class="fragment">A survey of CFOs found that 73.5% of the firms used the CAPM to calculate the cost of capital</li>
<li class="fragment">40% used historical average returns</li>
<li class="fragment">16% used the dividend discount model</li>
<li class="fragment">Larger firms were more likely to use the CAPM than were smaller firms</li>
</ul>
<p>Investors</p>
<ul>
<li class="fragment">In a recent study of the different risk models examined, investor behaviorwas found to be most consistent with the CAPM.
<ul>
<li class="fragment">The idea of this study is that by observing which investments investors rush into, it is possible to infer the risk model they are using</li>
</ul></li>
</ul>
</div>
</section>
<section id="section-1" class="slide level2">
<h2></h2>
<p><img data-src="figs/bm_13_11.png"></p>
</section>
<section id="section-2" class="slide level2">
<h2></h2>
<p><img data-src="figs/bm_13_12.png"></p>
</section>
<section id="practice" class="slide level2">
<h2>Practice</h2>
<div class="fragment">
<div class="callout callout-important callout-titled callout-style-default">
<div class="callout-body">
<div class="callout-title">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<p><strong>Important</strong></p>
</div>
<div class="callout-content">
<p>Practice using the following links:</p>
<ol type="1">
<li class="fragment"><a href="https://henriquemartins.net/teaching/financial_strategy/p5tf.html" data-preview-link="true">Multiple-choice Questions</a></li>
<li class="fragment"><a href="https://henriquemartins.net/teaching/financial_strategy/p5num.html" data-preview-link="true">Numeric Questions</a></li>
</ol>
</div>
</div>
</div>
</div>
</section>
<section id="references" class="slide level2 smaller scrollable">
<h2>References</h2>
<div class="quarto-auto-generated-content">
<p><img src="logo.jpg" class="slide-logo"></p>
<div class="footer footer-default">
<p><a href="https://lsmacoris.github.io/">@ Website</a> | <a href="https://lsmacoris.github.io/lectures">@ Slides</a> | <a href="https://calendly.com/lucas-macoris-fgv/appointment-lsm">@ Office-hour appointments</a></p>
</div>
</div>
<div id="refs" class="references csl-bib-body hanging-indent" data-entry-spacing="0" role="list">
<div id="ref-BDM" class="csl-entry" role="listitem">
Berk, J., and P. DeMarzo. 2023. <em>Corporate Finance, Global Edition</em>. Global Edition / English Textbooks. Pearson. <a href="https://books.google.com.br/books?id=m78oEAAAQBAJ">https://books.google.com.br/books?id=m78oEAAAQBAJ</a>.
</div>
<div id="ref-BMA" class="csl-entry" role="listitem">
Brealey, R. A., S. C. Myers, and F. Allen. 2020. <em>Principles of Corporate Finance</em>. The Irwin/McGraw-Hill Series in Finance, Insurance, and Real Estate. McGraw-Hill Education. <a href="https://books.google.com.br/books?id=nsrHuwEACAAJ">https://books.google.com.br/books?id=nsrHuwEACAAJ</a>.
</div>
</div>
</section></section>
    </div>
  </div>

  <script>window.backupDefine = window.define; window.define = undefined;</script>
  <script src="index_files/libs/revealjs/dist/reveal.js"></script>
  <!-- reveal.js plugins -->
  <script src="index_files/libs/revealjs/plugin/quarto-line-highlight/line-highlight.js"></script>
  <script src="index_files/libs/revealjs/plugin/pdf-export/pdfexport.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-menu/quarto-menu.js"></script>
  <script src="index_files/libs/revealjs/plugin/reveal-chalkboard/plugin.js"></script>
  <script src="index_files/libs/revealjs/plugin/quarto-support/support.js"></script>
  

  <script src="index_files/libs/revealjs/plugin/notes/notes.js"></script>
  <script src="index_files/libs/revealjs/plugin/search/search.js"></script>
  <script src="index_files/libs/revealjs/plugin/zoom/zoom.js"></script>
  <script src="index_files/libs/revealjs/plugin/math/math.js"></script>
  <script>window.define = window.backupDefine; window.backupDefine = undefined;</script>

  <script>

      // Full list of configuration options available at:
      // https://revealjs.com/config/
      Reveal.initialize({
'controlsAuto': true,
'previewLinksAuto': false,
'pdfSeparateFragments': false,
'autoAnimateEasing': "ease",
'autoAnimateDuration': 1,
'autoAnimateUnmatched': true,
'menu': {"side":"left","useTextContentForMissingTitles":true,"markers":false,"loadIcons":false,"custom":[{"title":"Tools","icon":"<i class=\"fas fa-gear\"></i>","content":"<ul class=\"slide-menu-items\">\n<li class=\"slide-tool-item active\" data-item=\"0\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.fullscreen(event)\"><kbd>f</kbd> Fullscreen</a></li>\n<li class=\"slide-tool-item\" data-item=\"1\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.speakerMode(event)\"><kbd>s</kbd> Speaker View</a></li>\n<li class=\"slide-tool-item\" data-item=\"2\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.overview(event)\"><kbd>o</kbd> Slide Overview</a></li>\n<li class=\"slide-tool-item\" data-item=\"3\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.togglePdfExport(event)\"><kbd>e</kbd> PDF Export Mode</a></li>\n<li class=\"slide-tool-item\" data-item=\"4\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleChalkboard(event)\"><kbd>b</kbd> Toggle Chalkboard</a></li>\n<li class=\"slide-tool-item\" data-item=\"5\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.toggleNotesCanvas(event)\"><kbd>c</kbd> Toggle Notes Canvas</a></li>\n<li class=\"slide-tool-item\" data-item=\"6\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.downloadDrawings(event)\"><kbd>d</kbd> Download Drawings</a></li>\n<li class=\"slide-tool-item\" data-item=\"7\"><a href=\"#\" onclick=\"RevealMenuToolHandlers.keyboardHelp(event)\"><kbd>?</kbd> Keyboard Help</a></li>\n</ul>"}],"openButton":true},
'chalkboard': {"buttons":true},
'smaller': false,
 
        // Display controls in the bottom right corner
        controls: false,

        // Help the user learn the controls by providing hints, for example by
        // bouncing the down arrow when they first encounter a vertical slide
        controlsTutorial: false,

        // Determines where controls appear, "edges" or "bottom-right"
        controlsLayout: 'edges',

        // Visibility rule for backwards navigation arrows; "faded", "hidden"
        // or "visible"
        controlsBackArrows: 'faded',

        // Display a presentation progress bar
        progress: true,

        // Display the page number of the current slide
        slideNumber: 'c/t',

        // 'all', 'print', or 'speaker'
        showSlideNumber: 'all',

        // Add the current slide number to the URL hash so that reloading the
        // page/copying the URL will return you to the same slide
        hash: true,

        // Start with 1 for the hash rather than 0
        hashOneBasedIndex: false,

        // Flags if we should monitor the hash and change slides accordingly
        respondToHashChanges: true,

        // Push each slide change to the browser history
        history: true,

        // Enable keyboard shortcuts for navigation
        keyboard: true,

        // Enable the slide overview mode
        overview: true,

        // Disables the default reveal.js slide layout (scaling and centering)
        // so that you can use custom CSS layout
        disableLayout: false,

        // Vertical centering of slides
        center: false,

        // Enables touch navigation on devices with touch input
        touch: true,

        // Loop the presentation
        loop: false,

        // Change the presentation direction to be RTL
        rtl: false,

        // see https://revealjs.com/vertical-slides/#navigation-mode
        navigationMode: 'linear',

        // Randomizes the order of slides each time the presentation loads
        shuffle: false,

        // Turns fragments on and off globally
        fragments: true,

        // Flags whether to include the current fragment in the URL,
        // so that reloading brings you to the same fragment position
        fragmentInURL: false,

        // Flags if the presentation is running in an embedded mode,
        // i.e. contained within a limited portion of the screen
        embedded: false,

        // Flags if we should show a help overlay when the questionmark
        // key is pressed
        help: true,

        // Flags if it should be possible to pause the presentation (blackout)
        pause: true,

        // Flags if speaker notes should be visible to all viewers
        showNotes: false,

        // Global override for autoplaying embedded media (null/true/false)
        autoPlayMedia: null,

        // Global override for preloading lazy-loaded iframes (null/true/false)
        preloadIframes: null,

        // Number of milliseconds between automatically proceeding to the
        // next slide, disabled when set to 0, this value can be overwritten
        // by using a data-autoslide attribute on your slides
        autoSlide: 0,

        // Stop auto-sliding after user input
        autoSlideStoppable: true,

        // Use this method for navigation when auto-sliding
        autoSlideMethod: null,

        // Specify the average time in seconds that you think you will spend
        // presenting each slide. This is used to show a pacing timer in the
        // speaker view
        defaultTiming: null,

        // Enable slide navigation via mouse wheel
        mouseWheel: false,

        // The display mode that will be used to show slides
        display: 'block',

        // Hide cursor if inactive
        hideInactiveCursor: true,

        // Time before the cursor is hidden (in ms)
        hideCursorTime: 5000,

        // Opens links in an iframe preview overlay
        previewLinks: false,

        // Transition style (none/fade/slide/convex/concave/zoom)
        transition: 'slide',

        // Transition speed (default/fast/slow)
        transitionSpeed: 'default',

        // Transition style for full page slide backgrounds
        // (none/fade/slide/convex/concave/zoom)
        backgroundTransition: 'fade',

        // Number of slides away from the current that are visible
        viewDistance: 3,

        // Number of slides away from the current that are visible on mobile
        // devices. It is advisable to set this to a lower number than
        // viewDistance in order to save resources.
        mobileViewDistance: 2,

        // The "normal" size of the presentation, aspect ratio will be preserved
        // when the presentation is scaled to fit different resolutions. Can be
        // specified using percentage units.
        width: 1600,

        height: 900,

        // Factor of the display size that should remain empty around the content
        margin: 0.1,

        math: {
          mathjax: 'https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.0/MathJax.js',
          config: 'TeX-AMS_HTML-full',
          tex2jax: {
            inlineMath: [['\\(','\\)']],
            displayMath: [['\\[','\\]']],
            balanceBraces: true,
            processEscapes: false,
            processRefs: true,
            processEnvironments: true,
            preview: 'TeX',
            skipTags: ['script','noscript','style','textarea','pre','code'],
            ignoreClass: 'tex2jax_ignore',
            processClass: 'tex2jax_process'
          },
        },

        // reveal.js plugins
        plugins: [QuartoLineHighlight, PdfExport, RevealMenu, RevealChalkboard, QuartoSupport,

          RevealMath,
          RevealNotes,
          RevealSearch,
          RevealZoom
        ]
      });
    </script>
    <script id="quarto-html-after-body" type="application/javascript">
    window.document.addEventListener("DOMContentLoaded", function (event) {
      const toggleBodyColorMode = (bsSheetEl) => {
        const mode = bsSheetEl.getAttribute("data-mode");
        const bodyEl = window.document.querySelector("body");
        if (mode === "dark") {
          bodyEl.classList.add("quarto-dark");
          bodyEl.classList.remove("quarto-light");
        } else {
          bodyEl.classList.add("quarto-light");
          bodyEl.classList.remove("quarto-dark");
        }
      }
      const toggleBodyColorPrimary = () => {
        const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
        if (bsSheetEl) {
          toggleBodyColorMode(bsSheetEl);
        }
      }
      toggleBodyColorPrimary();  
      const tabsets =  window.document.querySelectorAll(".panel-tabset-tabby")
      tabsets.forEach(function(tabset) {
        const tabby = new Tabby('#' + tabset.id);
      });
      const isCodeAnnotation = (el) => {
        for (const clz of el.classList) {
          if (clz.startsWith('code-annotation-')) {                     
            return true;
          }
        }
        return false;
      }
      const onCopySuccess = function(e) {
        // button target
        const button = e.trigger;
        // don't keep focus
        button.blur();
        // flash "checked"
        button.classList.add('code-copy-button-checked');
        var currentTitle = button.getAttribute("title");
        button.setAttribute("title", "Copied!");
        let tooltip;
        if (window.bootstrap) {
          button.setAttribute("data-bs-toggle", "tooltip");
          button.setAttribute("data-bs-placement", "left");
          button.setAttribute("data-bs-title", "Copied!");
          tooltip = new bootstrap.Tooltip(button, 
            { trigger: "manual", 
              customClass: "code-copy-button-tooltip",
              offset: [0, -8]});
          tooltip.show();    
        }
        setTimeout(function() {
          if (tooltip) {
            tooltip.hide();
            button.removeAttribute("data-bs-title");
            button.removeAttribute("data-bs-toggle");
            button.removeAttribute("data-bs-placement");
          }
          button.setAttribute("title", currentTitle);
          button.classList.remove('code-copy-button-checked');
        }, 1000);
        // clear code selection
        e.clearSelection();
      }
      const getTextToCopy = function(trigger) {
          const codeEl = trigger.previousElementSibling.cloneNode(true);
          for (const childEl of codeEl.children) {
            if (isCodeAnnotation(childEl)) {
              childEl.remove();
            }
          }
          return codeEl.innerText;
      }
      const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
        text: getTextToCopy
      });
      clipboard.on('success', onCopySuccess);
      if (window.document.getElementById('quarto-embedded-source-code-modal')) {
        // For code content inside modals, clipBoardJS needs to be initialized with a container option
        // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
        const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
          text: getTextToCopy,
          container: window.document.getElementById('quarto-embedded-source-code-modal')
        });
        clipboardModal.on('success', onCopySuccess);
      }
        var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
        var mailtoRegex = new RegExp(/^mailto:/);
          var filterRegex = new RegExp('/' + window.location.host + '/');
        var isInternal = (href) => {
            return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
        }
        // Inspect non-navigation links and adorn them if external
     	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
        for (var i=0; i<links.length; i++) {
          const link = links[i];
          if (!isInternal(link.href)) {
            // undo the damage that might have been done by quarto-nav.js in the case of
            // links that we want to consider external
            if (link.dataset.originalHref !== undefined) {
              link.href = link.dataset.originalHref;
            }
          }
        }
      function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
        const config = {
          allowHTML: true,
          maxWidth: 500,
          delay: 100,
          arrow: false,
          appendTo: function(el) {
              return el.closest('section.slide') || el.parentElement;
          },
          interactive: true,
          interactiveBorder: 10,
          theme: 'light-border',
          placement: 'bottom-start',
        };
        if (contentFn) {
          config.content = contentFn;
        }
        if (onTriggerFn) {
          config.onTrigger = onTriggerFn;
        }
        if (onUntriggerFn) {
          config.onUntrigger = onUntriggerFn;
        }
          config['offset'] = [0,0];
          config['maxWidth'] = 700;
        window.tippy(el, config); 
      }
      const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
      for (var i=0; i<noterefs.length; i++) {
        const ref = noterefs[i];
        tippyHover(ref, function() {
          // use id or data attribute instead here
          let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
          try { href = new URL(href).hash; } catch {}
          const id = href.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note) {
            return note.innerHTML;
          } else {
            return "";
          }
        });
      }
      const findCites = (el) => {
        const parentEl = el.parentElement;
        if (parentEl) {
          const cites = parentEl.dataset.cites;
          if (cites) {
            return {
              el,
              cites: cites.split(' ')
            };
          } else {
            return findCites(el.parentElement)
          }
        } else {
          return undefined;
        }
      };
      var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
      for (var i=0; i<bibliorefs.length; i++) {
        const ref = bibliorefs[i];
        const citeInfo = findCites(ref);
        if (citeInfo) {
          tippyHover(citeInfo.el, function() {
            var popup = window.document.createElement('div');
            citeInfo.cites.forEach(function(cite) {
              var citeDiv = window.document.createElement('div');
              citeDiv.classList.add('hanging-indent');
              citeDiv.classList.add('csl-entry');
              var biblioDiv = window.document.getElementById('ref-' + cite);
              if (biblioDiv) {
                citeDiv.innerHTML = biblioDiv.innerHTML;
              }
              popup.appendChild(citeDiv);
            });
            return popup.innerHTML;
          });
        }
      }
    });
    </script>
    

</body></html>